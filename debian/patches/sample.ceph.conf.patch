Last-Update: 2014-10-19
Forwarded: no
Author: Dmitry Smirnov <onlyjob@member.fsf.org>
Description: sample.ceph.conf updates:

 * corrected URLs.
 * more options and descriptions.

--- a/src/sample.ceph.conf
+++ b/src/sample.ceph.conf
@@ -30,9 +30,9 @@
 # $name       ; Expands to $type.$id.
 #             ; Example: /var/run/ceph/$cluster-$name.asok
 
 [global]
-### http://ceph.com/docs/master/rados/configuration/general-config-ref/
+### http://ceph.com/docs/giant/rados/configuration/general-config-ref/
 
     ;fsid                       = {UUID}    # use `uuidgen` to generate your own UUID
     ;public network             = 192.168.0.0/24
     ;cluster network            = 192.168.0.0/24
@@ -50,10 +50,10 @@
     # (Default: 0)
     ;max open files             = 131072
 
 
-### http://ceph.com/docs/master/rados/operations/authentication
-### http://ceph.com/docs/master/rados/configuration/auth-config-ref/
+### http://ceph.com/docs/giant/rados/operations/authentication
+### http://ceph.com/docs/giant/rados/configuration/auth-config-ref/
 
     # If enabled, the Ceph Storage Cluster daemons (i.e., ceph-mon, ceph-osd,
     # and ceph-mds) must authenticate with each other.
     # Type: String (optional); Valid settings are "cephx" or "none".
@@ -89,9 +89,9 @@
     # Default: /etc/ceph/$cluster.$name.keyring,/etc/ceph/$cluster.keyring,/etc/ceph/keyring,/etc/ceph/keyring.bin
     ;keyring                  = /etc/ceph/$cluster.$name.keyring
 
 
-### http://ceph.com/docs/master/rados/configuration/pool-pg-config-ref/
+### http://ceph.com/docs/giant/rados/configuration/pool-pg-config-ref/
 
 
     ## Replication level, number of data copies.
     # Type: 32-bit Integer
@@ -138,9 +138,9 @@
     # (Default: 1) Typically a host containing one or more Ceph OSD Daemons.
     ;osd crush chooseleaf type = 1
 
 
-### http://ceph.com/docs/master/rados/troubleshooting/log-and-debug/
+### http://ceph.com/docs/giant/rados/troubleshooting/log-and-debug/
 
     # The location of the logging file for your cluster.
     # Type: String
     # Required: No
@@ -153,9 +153,9 @@
     # (Default: false)
     ;log to syslog              = true
 
 
-### http://ceph.com/docs/master/rados/configuration/ms-ref/
+### http://ceph.com/docs/giant/rados/configuration/ms-ref/
 
     # Enable if you want your daemons to bind to IPv6 address instead of
     # IPv4 ones. (Not required if you specify a daemon or cluster IP.)
     # Type: Boolean
@@ -166,10 +166,10 @@
 ## Monitors
 ## You need at least one. You need at least three if you want to
 ## tolerate any node failures. Always create an odd number.
 [mon]
-### http://ceph.com/docs/master/rados/configuration/mon-config-ref/
-### http://ceph.com/docs/master/rados/configuration/mon-osd-interaction/
+### http://ceph.com/docs/giant/rados/configuration/mon-config-ref/
+### http://ceph.com/docs/giant/rados/configuration/mon-osd-interaction/
 
     # The IDs of initial monitors in a cluster during startup.
     # If specified, Ceph requires an odd number of monitors to form an
     # initial quorum (e.g., 3).
@@ -215,9 +215,9 @@
     # Type: 32-bit Integer
     # (Default: 900)
     ;mon osd report timeout          = 300
 
-### http://ceph.com/docs/master/rados/troubleshooting/log-and-debug/
+### http://ceph.com/docs/giant/rados/troubleshooting/log-and-debug/
 
     # logging, for debugging monitor crashes, in order of
     # their likelihood of being helpful :)
     ;debug ms                   = 1
@@ -237,16 +237,20 @@
 ;[mon.gamma]
 ;    host                       = gamma
 ;    mon addr                   = 192.168.0.12:6789
 
+    # The maximum number of simultaneous scrub operations for a Ceph OSD Daemon.
+    # Type: 32-bit Int
+    # (Default: 1)
+    ;osd max scrubs               = 2
 
 ##################
 ## Metadata servers
 # You must deploy at least one metadata server to use CephFS. There is
 # experimental support for running multiple metadata servers. Do not run
 # multiple metadata servers in production.
 [mds]
-### http://ceph.com/docs/master/cephfs/mds-config-ref/
+### http://ceph.com/docs/giant/cephfs/mds-config-ref/
 
     # where the mds keeps it's secret encryption keys
     ;keyring                    = /var/lib/ceph/mds/$name/keyring
 
@@ -278,9 +282,9 @@
 ## osd
 # You need at least one.  Two or more if you want data to be replicated.
 # Define as many as you like.
 [osd]
-### http://ceph.com/docs/master/rados/configuration/osd-config-ref/
+### http://ceph.com/docs/giant/rados/configuration/osd-config-ref/
 
     # The path to the OSDs data.
     # You must create the directory when deploying Ceph.
     # You should mount a drive for OSD data at this mount point.
@@ -338,9 +342,9 @@
     # Type: Boolean
     # (Default: false)
     ;osd check for log corruption = true
 
-### http://ceph.com/docs/master/rados/configuration/journal-ref/
+### http://ceph.com/docs/giant/rados/configuration/journal-ref/
 
     # The size of the journal in megabytes. If this is 0,
     # and the journal is a block device, the entire block device is used.
     # Since v0.54, this is ignored if the journal is a block device,
@@ -364,9 +368,9 @@
     ;debug osd                    = 20
     ;debug filestore              = 20
     ;debug journal                = 20
 
-### http://ceph.com/docs/master/rados/configuration/filestore-config-ref/
+### http://ceph.com/docs/giant/rados/configuration/filestore-config-ref/
 
     # The maximum interval in seconds for synchronizing the filestore.
     # Type: Double (optional)
     # (Default: 5)
@@ -377,14 +381,8 @@
     # Required: No. Only used for btrfs.
     # (Default: true)
     ;filestore btrfs snap        = false
 
-    # Enables the filestore flusher.
-    # Type: Boolean
-    # Required: No
-    # (Default: false)
-    ;filestore flusher            = true
-
     # Defines the maximum number of in progress operations the file store
     # accepts before blocking on queuing new operations.
     # Type: Integer
     # Required: No. Minimal impact on performance.
@@ -392,9 +390,9 @@
     ;filestore queue max ops      = 500
 
     ## Filestore and OSD settings can be tweak to achieve better performance
 
-### http://ceph.com/docs/master/rados/configuration/filestore-config-ref/#misc
+### http://ceph.com/docs/giant/rados/configuration/filestore-config-ref/#misc
 
     # Min number of files in a subdir before merging into parent NOTE: A negative value means to disable subdir merging
     # Type: Integer
     # Required: No
@@ -425,8 +423,9 @@
     # Required: No;
     # (Default: true)
     ;osd crush update on start    = false
 
+
 ;[osd.0]
 ;    host                         = delta
 
 ;[osd.1]
@@ -442,9 +441,9 @@
 ##################
 ## client settings
 [client]
 
-### http://ceph.com/docs/master/rbd/rbd-config-ref/
+### http://ceph.com/docs/giant/rbd/rbd-config-ref/
 
     # Enable caching for RADOS Block Device (RBD).
     # Type: Boolean
     # Required: No
@@ -491,9 +490,9 @@
 ##################
 ## radosgw client settings
 [client.radosgw.gateway]
 
-### http://ceph.com/docs/master/radosgw/config-ref/
+### http://ceph.com/docs/giant/radosgw/config-ref/
 
     # Sets the location of the data files for Ceph Object Gateway.
     # You must create the directory when deploying Ceph.
     # We do not recommend changing the default.
